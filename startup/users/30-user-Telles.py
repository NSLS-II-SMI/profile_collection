def sample_bar_2022_1(meas_t=1):

    # bar_number = 'row_1-6'

    # sample_names1=['sample_01', 'sample_02', 'sample_03', 'sample_04', 'sample_05', 'sample_06', 'sample_07', 'sample_08', 'sample_09',
    #  'sample_10', 'sample_11', 'sample_12', 'sample_13', 'sample_14', 'sample_15']
    # sample_names2=['sample_16', 'sample_17', 'sample_18', 'sample_19', 'sample_20', 'sample_21', 'sample_22', 'sample_23', 'sample_24', 'sample_25',
    #  'sample_26', 'sample_27', 'sample_28', 'sample_29', 'sample_30']

    # x_list1 = [          42800,       36800,       30800,       24800,       18800,       12800,       6800,        800,       -5200,
    #        -11200,     -17100,     -23100,      -29100,      -35100,      -41100]
    # x_list2 = [          42800,       36800,       30800,       24800,       18800,       12800,       6800,        800,       -5200,
    #        -11200,     -17100,     -23100,      -29100,      -35100,      -41100]

    # y_list1 = [         -9080,       -9080,       -8900,       -8900,       -9050,       -9100,       -9100,       -9250,       -9150,
    #        -9350,       -9300,       -9350,       -8820,       -8820,       -9100]

    # y_list2 = [         -3950,       -3500,       -4000,       -4050,       -3800,       -4150,       -4050,       -4000,       -4000,
    #        -4200,       -3800,       -3900,       -3700,       -3750,       -3950]

    # y_hexa1 = [-8, -8, -8,-8, -8, -8,-8, -8, -8,-8, -8, -8, -8, -8, -8]
    # y_hexa2 = [-8, -8, -8,-8, -8, -8,-8, -8, -8,-8, -8, -8, -8, -8, -8]

    # y_range1 = [  [0,1050,106],[0,1200,121], [0,1300,131],[0,1050,106],  [0,1150,116],[0,1200,121],[0,1100,111],[0,1150,116],[0,1250,126],
    #   [0,1100,111], [0,1200,121],[0,1150,116], [0,700,71],  [0,750,76], [ 0,850,86]]
    # y_range2 = [  [0,650,66],   [0,750,76],  [0,600,61],   [0,700,71],  [0,650,66],  [0,650,66],  [0,600,61],  [0,650,66],  [0,650,66],
    #     [0,900,91],  [0,700,71],  [0,750,76],  [0,700,71],  [0,650,66],  [0,750,76]]

    # # Row 3
    # sample_names3 = ['sample_31',  'sample_32',  'sample_33',  'sample_34',  'sample_35',  'sample_36',  'sample_37',  'sample_38',  'sample_39',
    #                  'sample_40',  'sample_41',  'sample_42',  'sample_43',  'sample_44',  'sample_45']

    # x_list3 =       [      42800,        36800,        30800,        24800,        19200,        12800,         6800,          800,        -5200,
    #                       -11200,       -17200,       -23200,       -29200,       -35200,       -41200]

    # y_list3 =       [       1150,         1050,         1100,          950,          500,          900,          700,         1000,          900,
    #                          600,          900,          900,          950,          950,          550]

    # y_range3 =      [ [0,700,71],   [0,800,81],   [0,900,91], [0,1100,111], [0,1200,121], [0,1000,101], [0,1050,106], [0,1000,101],   [0,850,86],
    #                 [0,1000,101], [0,1000,101], [0,1050,106], [0,1100,101],   [0,800,81], [0,1050,106]]

    # y_hexa3 =       [-8, -8, -8, -8, -8, -8, -8, -8, -8,-8, -8, -8, -8, -8, -8]

    # # Row 4
    # sample_names4 = ['sample_46',  'sample_47',  'sample_48',  'sample_49',  'sample_50',  'sample_51',  'sample_52',  'sample_53',  'sample_54',
    #                  'sample_55',  'sample_56',  'sample_57',  'sample_58',  'sample_59',  'sample_60']

    # x_list4 =       [      42800,        36800,        30800,        24800,        18800,        12800,         6800,          800,        -5200,
    #                       -11200,       -17200,       -23200,       -29200,       -35200,       -41200]

    # y_list4 =       [       5600,         5900,         5850,         5500,         5800,         5700,         5900,         5700,         6000,
    #                         6500,         6000,         5700,         5550,         5450,         5350]

    # y_range4 =     [[0,1600,161],   [0,900,91],   [0,1050,106], [0,1500,151], [0,1100,111], [0,1200,121], [0,750,76],   [0,800,81],   [0,750,76],
    #                   [0,550,56],   [0,700,71],     [0,750,76], [0,1850,186], [0,2000,201], [0,1750,176]]

    # y_hexa4 =       [-8, -8, -8, -8, -8, -8, -8, -8, -8, -8, -8, -8, -8, -8, -8]

    # # Row 5
    # sample_names5 = ['sample_61',  'sample_62',  'sample_63',  'sample_64',  'sample_65',  'sample_66',  'sample_67',  'sample_68',  'sample_69',
    #                  'sample_70',  'sample_71',  'sample_72',  'sample_73',  'sample_74',  'sample_75']

    # x_list5 =       [      42800,        36800,        30800,        24800,        18800,        12800,         6800,          800,        -5200,
    #                       -11200,       -17200,       -23200,       -29200,       -35100,       -41100]

    # y_list5 =       [        900,        700,          900,          800,          800,          600,           900,          750,          700,
    #                          850,         800,          850,          900,          550,         800 ]

    # y_range5 =     [[0, 900, 91],   [0,1100,111],   [0,1000,101], [0,800,81], [0,1000,101],  [0,950,96],    [0,1000,101],   [0,1000,101], [0,1000,101],
    #                   [0,900,91],   [0,800,81],     [0,700,71],   [0,700,71],   [0,800,81],   [0,800,81]]

    # y_hexa5 =       [2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2]

    # # Row 6
    # sample_names6 = ['sample_76',  'sample_77',  'sample_78',  'sample_79',  'sample_80',  'sample_81',  'sample_82',  'sample_83',  'sample_84',
    #                  'sample_85',  'sample_86',  'sample_87',  'sample_88',  'sample_89',  'sample_90']

    # x_list6 =       [      42800,        36800,        30800,        24800,        18800,        12800,         6800,          800,        -5200,
    #                       -11000,       -17100,       -23100,       -29100,       -35100,       -41100]

    # y_list6 =       [       6150,        5850,          5800,         5700,        5700,          5650,         5700,         5400,        5550,
    #                         5350,        5550,          5550,        5650,         5550,         5600 ]

    # y_range6 =     [[0, 850, 86],   [0,900,91],   [0,900,91],     [0,950,96],   [0,800,81],    [0,750,76],    [0,800,81],   [0,1200,121], [0,1350,136],
    #                 [0,1450,146],  [0,1050,106],  [0,1100,111],  [0,1100,111],  [0,1000,101],   [0,1100,111]]

    # y_hexa6 =       [2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2]

    # sample_names = sample_names1 + sample_names2 + sample_names3 + sample_names4 + sample_names5 + sample_names6
    # x_list       = x_list1       + x_list2       + x_list3       + x_list4       + x_list5       + x_list6
    # y_list       = y_list1       + y_list2       + y_list3       + y_list4       + y_list5       + y_list6
    # y_hexa       = y_hexa1       + y_hexa2       + y_hexa3       + y_hexa4       + y_hexa5       + y_hexa6
    # y_range      = y_range1      + y_range2      + y_range3      + y_range4      + y_range5      + y_range6

    bar_number = "row_7-10"

    # Row 7
    sample_names7 = [
        "sample_91",
        "sample_92",
        "sample_93",
        "sample_94",
        "sample_95",
        "sample_96",
        "sample_97",
        "sample_98",
        "sample_99",
        "sample_100",
        "sample_101",
        "sample_102",
        "sample_103",
        "sample_104",
        "sample_105",
    ]
    x_list7 = [
        42400,
        36400,
        30400,
        24400,
        18400,
        12400,
        6400,
        400,
        -5600,
        -11600,
        -17600,
        -23600,
        -29600,
        -35600,
        -41600,
    ]
    y_list7 = [
        -7650,
        -7550,
        -7650,
        -7750,
        -7750,
        -7950,
        -7850,
        -7950,
        -7600,
        -8000,
        -7750,
        -7650,
        -7650,
        -7800,
        -7550,
    ]
    y_range7 = [
        [0, 1100, 111],
        [0, 1100, 111],
        [0, 1100, 111],
        [0, 1200, 121],
        [0, 1000, 101],
        [0, 1100, 111],
        [0, 1050, 106],
        [0, 1050, 106],
        [0, 1100, 111],
        [0, 1000, 101],
        [0, 1050, 106],
        [0, 650, 66],
        [0, 700, 71],
        [0, 700, 71],
        [0, 600, 61],
    ]
    y_hexa7 = [-8, -8, -8, -8, -8, -8, -8, -8, -8, -8, -8, -8, -8, -8, -8]

    # Row 8
    sample_names8 = [
        "sample_106",
        "sample_107",
        "sample_108",
        "sample_109",
        "sample_110",
        "sample_111",
        "sample_112",
        "sample_113",
        "sample_114",
        "sample_115",
        "sample_116",
        "sample_117",
        "sample_118",
        "sample_119",
        "sample_120",
    ]
    x_list8 = [
        42400,
        36400,
        30400,
        24400,
        18400,
        12400,
        6400,
        400,
        -5600,
        -11600,
        -17600,
        -23600,
        -29600,
        -35600,
        -41600,
    ]
    y_list8 = [
        -2300,
        -2500,
        -2200,
        -2200,
        -2200,
        -2250,
        -2300,
        -2700,
        -3200,
        -3400,
        -3300,
        -3100,
        -2800,
        -3000,
        -2900,
    ]
    y_range8 = [
        [0, 600, 61],
        [0, 600, 61],
        [0, 650, 66],
        [0, 600, 61],
        [0, 600, 61],
        [0, 600, 61],
        [0, 600, 61],
        [0, 700, 71],
        [0, 2800, 281],
        [0, 2200, 221],
        [0, 1900, 191],
        [0, 1400, 141],
        [0, 1200, 121],
        [0, 1400, 141],
        [0, 1000, 101],
    ]
    y_hexa8 = [-8, -8, -8, -8, -8, -8, -8, -8, -8, -8, -8, -8, -8, -8, -8]

    # Row 9
    sample_names9 = [
        "sample_121",
        "sample_122",
        "sample_123",
        "sample_124",
        "sample_125",
        "sample_126",
        "sample_127",
        "sample_128",
        "sample_129",
        "sample_130",
        "sample_131",
        "sample_132",
        "sample_133",
        "sample_134",
        "sample_135",
    ]
    x_list9 = [
        42400,
        36400,
        30400,
        24400,
        18400,
        12400,
        6400,
        400,
        -5600,
        -11600,
        -17600,
        -23600,
        -29600,
        -35600,
        -41600,
    ]
    y_list9 = [
        2500,
        2200,
        2500,
        2200,
        2300,
        2300,
        2400,
        2100,
        1950,
        1900,
        2000,
        1700,
        2000,
        1800,
        1900,
    ]
    y_range9 = [
        [0, 950, 96],
        [0, 900, 91],
        [0, 700, 71],
        [0, 900, 91],
        [0, 750, 76],
        [0, 750, 76],
        [0, 800, 81],
        [0, 800, 81],
        [0, 1700, 171],
        [0, 1600, 161],
        [0, 1400, 141],
        [0, 1400, 141],
        [0, 1400, 141],
        [0, 1450, 146],
        [0, 1500, 151],
    ]
    y_hexa9 = [-8, -8, -8, -8, -8, -8, -8, -8, -8, -8, -8, -8, -8, -8, -8]

    # Row 10
    sample_names10 = [
        "sample_136",
        "sample_137",
        "sample_138",
        "sample_139",
        "sample_140",
        "sample_141",
        "sample_142",
        "sample_143",
        "sample_144",
    ]
    x_list10 = [42400, 36400, 30400, 24400, 18400, 12400, 6400, 400, -5600]
    y_list10 = [-600, -650, -600, -650, -750, -500, -500, -800, -500]
    y_range10 = [
        [0, 950, 96],
        [0, 1050, 106],
        [0, 750, 76],
        [0, 950, 96],
        [0, 800, 81],
        [0, 650, 66],
        [0, 600, 61],
        [0, 650, 66],
        [0, 500, 51],
    ]
    y_hexa10 = [0] * len(sample_names10)

    sample_names = sample_names7 + sample_names8 + sample_names9 + sample_names10
    x_list = x_list7 + x_list8 + x_list9 + x_list10
    y_list = y_list7 + y_list8 + y_list9 + y_list10
    y_hexa = y_hexa7 + y_hexa8 + y_hexa9 + y_hexa10
    y_range = y_range7 + y_range8 + y_range9 + y_range10

    waxs_arc = [1, 20]
    dets = [pil900KW, pil1M]
    det_exposure_time(meas_t, meas_t)

    assert len(x_list) == len(
        sample_names
    ), f"Number of X coordinates ({len(x_list)}) is different from number of samples ({len(samples)})"
    assert len(x_list) == len(
        y_list
    ), f"Number of X coordinates ({len(x_list)}) is different from number of Y coordinates ({len(y_list)})"
    assert len(x_list) == len(
        y_range
    ), f"Number of X coordinates ({len(x_list)}) is different from number of Y ranges ({len(y_range)})"
    assert len(y_hexa) == len(
        y_range
    ), f"Number of Y hexap coordinates ({len(y_hexa)}) is different from number of Y ranges ({len(y_range)})"
    for wa in waxs_arc:

        dets = [pil900KW] if wa < 15 else [pil900KW, pil1M]

        yield from bps.mv(waxs, wa)
        for x, y, hy, sample, y_r in zip(x_list, y_list, y_hexa, sample_names, y_range):
            yield from bps.mv(piezo.x, x)
            yield from bps.mv(piezo.y, y)
            yield from bps.mv(stage.y, hy)
            name_fmt = "{bar}_{sam}_wa{waxs}_dy10um_1s_yscan"
            sample_name = name_fmt.format(bar=bar_number, sam=sample, waxs="%2.1f" % wa)
            sample_id(user_name="RT", sample_name=sample_name)
            print(f"\n\t=== Sample: {sample_name} ===\n")
            yield from bp.rel_scan(dets, piezo.y, *y_r)

    sample_id(user_name="test", sample_name="test")
    det_exposure_time(0.5, 0.5)


def sample_bar(meas_t=1):  # older version
    # bar_number = 'bar_A'
    # sample_names=['sample_01', 'sample_02', 'sample_03', 'sample_04', 'sample_05', 'sample_06', 'sample_07', 'sample_08', 'sample_09',
    #  'sample_10', 'sample_11', 'sample_12', 'sample_13', 'sample_14', 'sample_15', 'sample_16',
    #  'sample_17', 'sample_18', 'sample_19', 'sample_20', 'sample_21', 'sample_22', 'sample_23', 'sample_24', 'sample_25',
    #  'sample_27', 'sample_28', 'sample_29', 'sample_30', 'sample_31', 'sample_32', 'sample_33']

    # x_list = [          48000,       42000,       36000,       30000,       24000,       18000,       12000,        6000,           0,
    #        -6000,      -12000,      -18000,      -24300,      -30000,      -36000,      -42000,
    #        48000,       42000,       36000,       30000,       24000,       18000,       12000,        6000,           0,
    #        -6000,      -12000,      -18000,      -24200,      -30000,      -36000,      -42500]

    # y_list = [          -6650,       -6750,       -6900,       -6900,       -6800,       -6700,       -6600,       -6600,       -6500,
    #        -6800,       -6700,       -6500,       -6800,       -6550,       -6500,       -6700,
    #        -2550,       -2700,       -2700,       -2700,       -2650,       -2750,       -2750,       -2350,       -2550,
    #        -2400,       -2550,       -2650,       -2650,       -2400,       -2370,       -2300]

    # y_range = [  [0,1100,111],[0,1200,121],[0,1100,111],[0,1100,111],  [0,950,96],  [0,950,96],   [0,950,96],   [0,950,96],  [0,950,96],
    #   [0,850,86],  [0,900,91],[0,1200,121],  [0,900,91],  [0,900,91],[0,1200,121],[0,1200,121],
    #   [0,800,81],  [0,850,86],  [0,900,91],  [0,850,86],  [0,850,86],  [0,850,86],  [0,850,86],  [0,850,86],  [0,750,76],
    #   [0,800,81],  [0,800,81],  [0,800,81],  [0,800,81],  [0,850,86],  [0,800,81],  [0,900,91]]

    # bar_number = 'bar_B'

    # sample_names=['sample_01', 'sample_02', 'sample_03', 'sample_04', 'sample_05', 'sample_06', 'sample_07', 'sample_08', 'sample_09',
    #  'sample_10', 'sample_11', 'sample_12', 'sample_13', 'sample_14', 'sample_15', 'sample_16',
    #  'sample_17', 'sample_18', 'sample_19', 'sample_20', 'sample_21', 'sample_22', 'sample_23', 'sample_24', 'sample_25',
    #  'sample_26', 'sample_27', 'sample_28', 'sample_29', 'sample_30', 'sample_31', 'sample_32']

    # x_list = [          48000,       41800,       36000,       30000,       23800,       17800,       12000,        6000,           0,
    #        -6000,      -12000,      -18000,      -24300,      -30000,      -36000,      -42000,
    #        48000,       42000,       36000,       30000,       24000,       18000,       12000,        6000,           0,
    #        -6000,      -12100,      -18000,      -24000,      -30000,      -36000,      -41800]

    # y_list = [           1850,        1800,        1850,        1800,        1800,        1900,        1750,        2000,        2050,
    #         2000,        2100,        1850,        1950,        2000,        2150,        2100,
    #         5900,        6150,        6080,        5900,        5800,        6050,        5980,        5900,        5950,
    #         5830,        5950,        6050,        6180,        6050,        6150,        6050]

    # y_range = [    [0,800,81],  [0,800,81],  [0,750,76],  [0,750,76],  [0,750,76],  [0,700,71],  [0,700,71],  [0,550,51],  [0,600,61],
    #   [0,550,56],  [0,550,56],  [0,500,51],  [0,530,54],  [0,550,56],  [0,450,46],  [0,450,46],
    #   [0,400,41],  [0,450,46],  [0,450,46],  [0,450,46],  [0,450,46],  [0,450,46],  [0,470,48],  [0,450,46],  [0,450,46],
    #   [0,400,41],  [0,500,51],  [0,450,46],  [0,450,46],  [0,450,46],  [0,450,46],  [0,450,46]]

    # bar_number = 'bar_C'

    # sample_names=['sample_01', 'sample_02', 'sample_03', 'sample_04', 'sample_05', 'sample_06', 'sample_07', 'sample_08', 'sample_09',
    #  'sample_10', 'sample_11', 'sample_12', 'sample_13', 'sample_14', 'sample_15', 'sample_16',
    #  'sample_17', 'sample_18', 'sample_19', 'sample_20', 'sample_21', 'sample_22', 'sample_23', 'sample_24', 'sample_25',
    #  'sample_26', 'sample_27', 'sample_28', 'sample_29', 'sample_30', 'sample_31', 'sample_32']

    # x_list = [          48000,       42000,       36000,       30000,       23800,       17800,       12000,        6000,           0,
    #        -6000,      -12000,      -18000,      -24300,      -30000,      -36000,      -42000,
    #        48300,       41800,       36000,       30000,       24000,       18000,       12000,        6000,           0,
    #        -6000,      -12100,      -18000,      -24000,      -30100,      -36000,      -42000]

    # y_list = [          -6650,       -6550,       -6570,       -6650,       -6820,       -7150,       -7050,       -7150,       -6900,
    #        -6850,       -6950,       -6600,       -6650,       -6750,       -7200,       -6850,
    #        -3350,       -2900,       -3350,       -3400,       -3150,       -3200,       -3350,       -3350,       -3050,
    #        -3400,       -3400,       -3100,       -3000,       -3400,       -3400,       -3250]

    # y_range = [    [0,500,51],  [0,500,51],  [0,500,51],  [0,450,46],  [0,450,46],[0,1650,166],[0,1400,141],[0,1350,136],  [0,950,96],
    #   [0,850,86],  [0,900,91],  [0,900,91],[0,1000,101],[0,1000,101],  [0,800,81],  [0,900,91],
    #   [0,900,91],[0,1500,151],[0,2000,201],[0,2050,206],[0,1800,181],[0,1800,181],[0,1950,196],[0,1900,191],[0,1700,171],
    # [0,1950,196],[0,2000,201],[0,1700,171],[0,1600,161],[0,2000,201],[0,1900,191],[0,1900,191]]

    # yield from bps.mv(stage.x, -0.9)
    # yield from bps.mv(stage.y, -8.0)

    # bar_number = 'bar_E'

    # sample_names=['sample_01', 'sample_02', 'sample_03', 'sample_04', 'sample_05', 'sample_06', 'sample_07', 'sample_08', 'sample_09',
    #  'sample_10', 'sample_11', 'sample_12', 'sample_13', 'sample_14', 'sample_15', 'sample_16',
    #  'sample_17', 'sample_18', 'sample_19']

    # x_list = [          48000,       42000,       35800,       30000,       24000,       18000,       12000,        6100,         100,
    #        -5800,      -12000,      -18000,      -24000,      -30000,      -36000,      -42000,
    #        48000,       42200,       36000]

    # y_list = [          -6900,       -6920,       -7000,       -6930,       -6950,       -6830,       -6880,       -6820,       -7000,
    #        -7400,       -6980,       -6800,       -6750,       -6750,       -6820,       -6600,
    #        -2600,       -3450,       -2800]

    # y_range = [    [0,300,31],  [0,300,31],  [0,300,31],  [0,350,36],  [0,300,31],  [0,350,36],  [0,300,31],  [0,300,31],  [0,300,31],
    #   [0,350,36],  [0,350,36],  [0,350,36],  [0,300,31],  [0,350,36],  [0,300,31],  [0,300,31],
    #   [0,300,31],  [0,350,36],  [0,250,26]]

    # bar_number = 'bar_D'

    # sample_names=['sample_01', 'sample_02', 'sample_03', 'sample_04', 'sample_05', 'sample_06', 'sample_07', 'sample_08', 'sample_09',
    #  'sample_10', 'sample_11', 'sample_12', 'sample_13', 'sample_14', 'sample_15', 'sample_16',
    #  'sample_17', 'sample_18', 'sample_19', 'sample_20', 'sample_21', 'sample_22', 'sample_23', 'sample_24', 'sample_25',
    #  'sample_26', 'sample_27', 'sample_28', 'sample_29', 'sample_30', 'sample_31', 'sample_32']

    # x_list = [          47700,       42000,       36000,       30000,       23900,       18000,       12000,        5800,           0,
    #        -6200,      -11700,      -18000,      -24000,      -30000,      -36400,      -41700,
    #        47700,       42000,       36300,       30400,       23800,       18000,       11800,        6000,           0,
    #        -6000,      -12100,      -18200,      -24000,      -30000,      -36000,      -41900]

    # y_list = [           1650,        1700,        1800,        1750,        1600,        1520,        1650,        1600,        1850,
    #         1500,        1600,        1630,        1750,        1750,        1650,        2150,
    #         5550,        5600,        5180,        6100,        5750,        5800,        5950,        5580,        6000,
    #         5550,        5575,        5970,        5650,        5750,        6030,        5950]

    # y_range = [    [0,750,76],  [0,750,76],  [0,750,76],  [0,650,61],  [0,700,71],  [0,650,66],  [0,700,71],  [0,800,81],  [0,850,86],
    #   [0,700,71],  [0,800,81],  [0,800,81],  [0,850,86],  [0,800,81],  [0,800,81],  [0,450,46],
    #   [0,400,41],  [0,550,56],  [0,900,91],  [0,500,51],  [0,450,46],  [0,350,36],  [0,400,41],  [0,350,36],  [0,350,36],
    #   [0,400,41],  [0,350,36],  [0,300,31],  [0,350,36],  [0,350,36],  [0,350,36],  [0,350,36]]

    waxs_arc = [0, 2, 20]
    dets = [pil900KW, pil1M]
    det_exposure_time(meas_t, meas_t)

    assert len(x_list) == len(
        sample_names
    ), f"Number of X coordinates ({len(x_list)}) is different from number of samples ({len(samples)})"
    assert len(x_list) == len(
        y_list
    ), f"Number of X coordinates ({len(x_list)}) is different from number of Y coordinates ({len(y_list)})"
    assert len(x_list) == len(
        y_range
    ), f"Number of X coordinates ({len(x_list)}) is different from number of Y ranges ({len(y_range)})"

    for wa in waxs_arc:
        if wa != 20:
            dets = [pil900KW]
        else:
            dets = [pil900KW, pil1M]

        yield from bps.mv(waxs, wa)
        for x, y, sample, y_r in zip(x_list, y_list, sample_names, y_range):
            yield from bps.mv(piezo.x, x)
            yield from bps.mv(piezo.y, y)
            name_fmt = "{bar}_{sam}_wa{waxs}_dy_10um_exptime_1s_yscan"
            sample_name = name_fmt.format(bar=bar_number, sam=sample, waxs="%2.1f" % wa)
            sample_id(user_name="ED", sample_name=sample_name)
            print(f"\n\t=== Sample: {sample_name} ===\n")
            yield from bp.rel_scan(dets, piezo.y, *y_r)


def rodrigo_yscans_2022_2(t=0.5):
    """
    Run Rodrigo's samples y scan

    Note:
        names: samle names
        piezo_x: position of piezo x in um for the vertical line scan,
        piezo_y: starting position (top of the sample) for the vertical line scan in um
        y_range: [0 as you start from the piezo_y, then relative distance in um to the end of the smple, number
                  of points to get 10 um step + 1,]
    """
    names = [f"sample_{v}" for v in [1, 2, 3, 4, 5, 16, 17, 19, 20]]
    piezo_x = [-41600, -35600, -28900, -23600, -17600, -41600, 35200, -23400, -16900]
    piezo_y = [
        -6800,
        -6900,
        -6900,
        -6500,
        -6600,
        4200,
        3300,
        2700,
        3500,
    ]
    y_range = [
        [0, 100, 11],
        [0, 900, 91],
        [0, 900, 91],
        [0, 500, 51],
        [0, 400, 41],
        [0, 10, 2],
        [0, 900, 91],
        [0, 900, 91],
        [0, 800, 81],
    ]

    assert len(piezo_x) == len(
        names
    ), f"Number of X coordinates ({len(piezo_x)}) is different from number of samples ({len(names)})"
    assert len(piezo_x) == len(
        piezo_y
    ), f"Number of X coordinates ({len(piezo_x)}) is different from number of Y coordinates ({len(piezo_y)})"
    assert len(piezo_x) == len(
        y_range
    ), f"Number of X coordinates ({len(piezo_x)}) is different from number of Y ranges ({len(piezo_y)})"
    # assert len(y_hexa) == len(y_range), f'Number of Y hexap coordinates ({len(y_hexa)}) is different from number of Y ranges ({len(y_range)})'

    waxs_arc = [0, 2, 20, 22]

    for wa in waxs_arc:
        yield from bps.mv(waxs, wa)

        dets = [pil900KW] if wa < 15 else [pil900KW, pil1M]
        det_exposure_time(t, t)

        for name, x, y, y_r in zip(names, piezo_x, piezo_y, y_range):
            yield from bps.mv(piezo.x, x, piezo.y, y)
            # Metadata
            e = energy.position.energy / 1000  # energy keV
            wa = waxs.arc.position + 0.001  # WAXS arc angle, deg
            wa = str(np.round(float(wa), 1)).zfill(4)
            sdd = pil1m_pos.z.position / 1000  # SAXS detector distance
            scan_id = db[-1].start["scan_id"] + 1  # transient scan ID

            name_fmt = (
                "{sample}_{energy}keV_wa{wa}_sdd{sdd}m_id{scan_id}_dy10um_{t}s_yscan"
            )
            sample_name = name_fmt.format(
                sample=name,
                energy="%.1f" % e,
                wa=wa,
                sdd="%.1f" % sdd,
                scan_id=scan_id,
                t=t,
            )
            sample_id(user_name="RT", sample_name=sample_name)
            print(f"\n\t=== Sample: {sample_name} ===\n")
            yield from bp.rel_scan(dets, piezo.y, *y_r)

    sample_id(user_name="test", sample_name="test")
    det_exposure_time(0.5, 0.5)


def alice_grid_scans_2022_2(t=0.5):
    """
    Run sample grid scans

    Note:
        names: sample names
        piezo_x: position of piezo x in um for the vertical line scan,
        piezo_y: starting position (top of the sample) for the vertical line scan in um
        y_range: [0 as you start from the piezo_y, then relative distance in um to the end of the smple, number
                  of points to get 10 um step + 1,]
        x_range: [0 as you start from the piezo_x, then relative distance in um to the end of the smple, number
                  of points to get 10 um step + 1,]
    """
    names = ["DR2AP", "DR1.3AP", "DR1.3AP", "DR2AN"]
    piezo_x = [-41750, 5500, 5350, 14550]
    piezo_y = [-5000, -6700, 3050, 2750]

    # Ranges the same for all samples
    y_range = [0, 650, 66]
    x_range = [0, 1250, 51]

    assert len(piezo_x) == len(
        names
    ), f"Number of X coordinates ({len(piezo_x)}) is different from number of samples ({len(names)})"
    assert len(piezo_x) == len(
        piezo_y
    ), f"Number of X coordinates ({len(piezo_x)}) is different from number of Y coordinates ({len(piezo_y)})"

    yield from bps.mv(waxs, 20)
    dets = [pil1M]
    det_exposure_time(t, t)

    for name, x, y in zip(names, piezo_x, piezo_y):
        yield from bps.mv(piezo.x, x, piezo.y, y)

        # Metadata
        e = energy.position.energy / 1000  # energy keV
        sdd = pil1m_pos.z.position / 1000  # SAXS detector distance
        scan_id = db[-1].start["scan_id"] + 1  # transient scan ID

        name_fmt = "{sample}_{energy}keV_sdd{sdd}m_id{scan_id}_dy10um_dx25um"
        sample_name = name_fmt.format(
            sample=name, energy="%.1f" % e, sdd="%.1f" % sdd, scan_id=scan_id
        )
        sample_id(user_name="RT", sample_name=sample_name)
        print(f"\n\t=== Sample: {sample_name} ===\n")

        yield from bp.rel_grid_scan(dets, piezo.y, *y_range, piezo.x, *x_range, 0)

    sample_id(user_name="test", sample_name="test")
    det_exposure_time(0.5, 0.5)


def alice_filament_yscans_2022_2(t=0.5):
    """
    Samples y scan

    Note:
        names: samle names
        piezo_x: position of piezo x in um for the vertical line scan,
        piezo_y: starting position (top of the sample) for the vertical line scan in um
        y_range: [0 as you start from the piezo_y, then relative distance in um to the end of the smple, number
                  of points to get 10 um step + 1,]
    """
    names = [f"sample_{v}" for v in range(37)]
    piezo_x = [
        -12100,
        -11600,
        -11100,
        -6100,
        -5600,
        -5100,
        -100,
        400,
        900,
        -12100,
        -11600,
        -11100,
        -6100,
        -5600,
        -5100,
        -100,
        400,
        900,
        17900,
        18400,
        18900,
        23400,
        22900,
        22400,
        30000,
        29500,
        29000,
        18000,
        18500,
        19000,
        24000,
        24500,
        25000,
        30000,
        30500,
        31000,
        11550,
    ]
    piezo_y = [
        -6650,
        -6650,
        -6650,
        -6650,
        -6650,
        -6650,
        -6650,
        -6650,
        -6650,
        3250,
        3250,
        3250,
        3250,
        3250,
        3250,
        3250,
        3250,
        3250,
        -6850,
        -6800,
        -6750,
        -6700,
        -6700,
        -6650,
        -7200,
        -7200,
        -7200,
        2400,
        2400,
        2400,
        2500,
        2500,
        2500,
        2500,
        2500,
        2500,
        2750,
    ]

    y_range = [
        [0, 750, 76],
        [0, 750, 76],
        [0, 750, 76],
        [0, 750, 76],
        [0, 750, 76],
        [0, 750, 76],
        [0, 1000, 101],
        [0, 1000, 101],
        [0, 1000, 101],
        [0, 750, 76],
        [0, 750, 76],
        [0, 750, 76],
        [0, 750, 76],
        [0, 750, 76],
        [0, 750, 76],
        [0, 1000, 101],
        [0, 1000, 101],
        [0, 1000, 101],
        [0, 750, 76],
        [0, 750, 76],
        [0, 750, 76],
        [0, 750, 76],
        [0, 750, 76],
        [0, 750, 76],
        [0, 1000, 101],
        [0, 1000, 101],
        [0, 1000, 101],
        [0, 750, 76],
        [0, 750, 76],
        [0, 750, 76],
        [0, 750, 76],
        [0, 750, 76],
        [0, 750, 76],
        [0, 1000, 101],
        [0, 1000, 101],
        [0, 1000, 101],
        [0, 10, 2],
    ]

    assert len(piezo_x) == len(
        names
    ), f"Number of X coordinates ({len(piezo_x)}) is different from number of samples ({len(names)})"
    assert len(piezo_x) == len(
        piezo_y
    ), f"Number of X coordinates ({len(piezo_x)}) is different from number of Y coordinates ({len(piezo_y)})"
    assert len(piezo_x) == len(
        y_range
    ), f"Number of X coordinates ({len(piezo_x)}) is different from number of Y ranges ({len(piezo_y)})"
    # assert len(y_hexa) == len(y_range), f'Number of Y hexap coordinates ({len(y_hexa)}) is different from number of Y ranges ({len(y_range)})'

    yield from bps.mv(waxs, 20)
    dets = [pil1M]
    det_exposure_time(t, t)

    for name, x, y, y_r in zip(names, piezo_x, piezo_y, y_range):
        yield from bps.mv(piezo.x, x, piezo.y, y)

        # Metadata
        e = energy.position.energy / 1000  # energy keV
        sdd = pil1m_pos.z.position / 1000  # SAXS detector distance
        scan_id = db[-1].start["scan_id"] + 1  # transient scan ID

        name_fmt = "{sample}_{energy}keV_sdd{sdd}m_id{scan_id}_dy10um"
        sample_name = name_fmt.format(
            sample=name, energy="%.1f" % e, sdd="%.1f" % sdd, scan_id=scan_id
        )
        sample_id(user_name="RT", sample_name=sample_name)
        print(f"\n\t=== Sample: {sample_name} ===\n")
        yield from bp.rel_scan(dets, piezo.y, *y_r)

    sample_id(user_name="test", sample_name="test")
    det_exposure_time(0.5, 0.5)


def run_overnight_exsitu_2022_2():

    try:
        proposal_id("2022_2", "309101_Telles_exsitu")
        yield from rodrigo_yscans_2022_2(t=0.5)
    except:
        pass

    try:
        proposal_id("2022_2", "309101_Telles_Alice")
        yield from alice_grid_scans_2022_2(t=0.2)
    except:
        pass
    yield from alice_filament_yscans_2022_2(t=0.2)
